`timescale 1 ns / 100 ps;

module mfm_emulator_test();

	reg clk50;
	
	wire clk5;
	wire led;
	wire index_l;
	wire data_h;
	wire mfm_out;
	wire track_sync;

	MFM_clock mfm_clock(.clk50 (clk50), .clk5 (clk5));
	
	MFM_index mfm_index(.clk50 (clk50), .index_l (index_l), .led (led));

	MFM_data mfm_data(.clk5 (clk5), .mfm_out (mfm_out), 
							.index_l (index_l), .data_h (data_h), 
							.track_sync (track_sync));

	MFM_buffer mfm_buffer(.clk5 (clk5), .track_sync (track_sync), .mfm_out (mfm_out));

   initial begin
      clk50 <= 0;
   end

   // Simulate a clock
   always begin
      #10;
      clk50 = !clk50;
   end

   initial begin
      #15000;
   end

endmodule